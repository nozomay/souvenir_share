<h1>投稿詳細</h1>
<br>
  <% if flash[:notice] %>
    <div class="flash">
      <%= flash[:notice] %>
    </div>
  <% end %>
<br>
<h2>タイトル</h2>
<p><%= post.title %></p>
<h2>レビュー</h2>
<p><%= post.review %></p>
<p><%= post.rate %></p>
<p><%= post.address %></p>
<!--地図表示-->
<div id="map"></div>
<script>
  function initmap(){
    geocoder = new google.maps.Geocoder()
    const test ={lat: <%= post.latitude %>, lng: <%= post.longitude %>};
    const map = new google.maps.Map(document.getElementById('map'), {
        zoom: 15,
        center: test
    });
    const transitLayer = new google.maps.TransitLayer();
    transitLayer.setMap(map);
  
    const contentString = '住所：<%= post.address %>';
    const infowindow = new google.maps.InfoWindow({
        content: contentString
    });
  
    const marker = new google.maps.Marker({
        position:test,
        map: map,
        title: contentString
    });
  
    marker.addListener('click', function() {
        infowindow.open(map, marker);
    });
  }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap">
</script>